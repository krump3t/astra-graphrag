{"services\\config\\retrieval_config.py": [{"type": "method", "rank": "A", "lineno": 132, "col_offset": 4, "endline": 151, "complexity": 5, "classname": "RetrievalConfig", "name": "get_traversal_hops", "closures": []}, {"type": "class", "rank": "A", "lineno": 11, "col_offset": 0, "endline": 151, "complexity": 4, "name": "RetrievalConfig", "methods": [{"type": "method", "rank": "A", "lineno": 58, "col_offset": 4, "endline": 76, "complexity": 4, "classname": "RetrievalConfig", "name": "get_top_k", "closures": []}, {"type": "method", "rank": "A", "lineno": 79, "col_offset": 4, "endline": 90, "complexity": 2, "classname": "RetrievalConfig", "name": "get_reranking_weights", "closures": []}, {"type": "method", "rank": "A", "lineno": 93, "col_offset": 4, "endline": 103, "complexity": 2, "classname": "RetrievalConfig", "name": "should_use_or_logic", "closures": []}, {"type": "method", "rank": "A", "lineno": 106, "col_offset": 4, "endline": 129, "complexity": 4, "classname": "RetrievalConfig", "name": "get_retrieval_limits", "closures": []}, {"type": "method", "rank": "A", "lineno": 132, "col_offset": 4, "endline": 151, "complexity": 5, "classname": "RetrievalConfig", "name": "get_traversal_hops", "closures": []}]}, {"type": "method", "rank": "A", "lineno": 58, "col_offset": 4, "endline": 76, "complexity": 4, "classname": "RetrievalConfig", "name": "get_top_k", "closures": []}, {"type": "method", "rank": "A", "lineno": 106, "col_offset": 4, "endline": 129, "complexity": 4, "classname": "RetrievalConfig", "name": "get_retrieval_limits", "closures": []}, {"type": "method", "rank": "A", "lineno": 79, "col_offset": 4, "endline": 90, "complexity": 2, "classname": "RetrievalConfig", "name": "get_reranking_weights", "closures": []}, {"type": "method", "rank": "A", "lineno": 93, "col_offset": 4, "endline": 103, "complexity": 2, "classname": "RetrievalConfig", "name": "should_use_or_logic", "closures": []}], "services\\config\\settings.py": [{"type": "function", "rank": "B", "lineno": 55, "col_offset": 0, "endline": 72, "complexity": 7, "name": "_build_settings", "closures": []}, {"type": "class", "rank": "A", "lineno": 21, "col_offset": 0, "endline": 52, "complexity": 4, "name": "Settings", "methods": [{"type": "method", "rank": "A", "lineno": 41, "col_offset": 4, "endline": 46, "complexity": 4, "classname": "Settings", "name": "masked", "closures": []}, {"type": "method", "rank": "A", "lineno": 48, "col_offset": 4, "endline": 52, "complexity": 2, "classname": "Settings", "name": "require", "closures": []}]}, {"type": "method", "rank": "A", "lineno": 41, "col_offset": 4, "endline": 46, "complexity": 4, "classname": "Settings", "name": "masked", "closures": []}, {"type": "function", "rank": "A", "lineno": 15, "col_offset": 0, "endline": 17, "complexity": 2, "name": "_get_env", "closures": []}, {"type": "method", "rank": "A", "lineno": 48, "col_offset": 4, "endline": 52, "complexity": 2, "classname": "Settings", "name": "require", "closures": []}, {"type": "function", "rank": "A", "lineno": 77, "col_offset": 0, "endline": 78, "complexity": 1, "name": "get_settings", "closures": []}, {"type": "function", "rank": "A", "lineno": 81, "col_offset": 0, "endline": 82, "complexity": 1, "name": "reset_settings_cache", "closures": []}], "services\\graph_index\\astra_api.py": [{"type": "method", "rank": "B", "lineno": 89, "col_offset": 4, "endline": 149, "complexity": 8, "classname": "AstraApiClient", "name": "vector_search", "closures": []}, {"type": "method", "rank": "A", "lineno": 13, "col_offset": 4, "endline": 19, "complexity": 5, "classname": "AstraApiClient", "name": "__init__", "closures": []}, {"type": "class", "rank": "A", "lineno": 12, "col_offset": 0, "endline": 186, "complexity": 3, "name": "AstraApiClient", "methods": [{"type": "method", "rank": "A", "lineno": 13, "col_offset": 4, "endline": 19, "complexity": 5, "classname": "AstraApiClient", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 21, "col_offset": 4, "endline": 24, "complexity": 1, "classname": "AstraApiClient", "name": "_headers", "closures": []}, {"type": "method", "rank": "A", "lineno": 27, "col_offset": 4, "endline": 28, "complexity": 1, "classname": "AstraApiClient", "name": "_url", "closures": []}, {"type": "method", "rank": "A", "lineno": 30, "col_offset": 4, "endline": 37, "complexity": 2, "classname": "AstraApiClient", "name": "_post", "closures": []}, {"type": "method", "rank": "A", "lineno": 39, "col_offset": 4, "endline": 45, "complexity": 2, "classname": "AstraApiClient", "name": "_get", "closures": []}, {"type": "method", "rank": "A", "lineno": 48, "col_offset": 4, "endline": 49, "complexity": 1, "classname": "AstraApiClient", "name": "list_collections", "closures": []}, {"type": "method", "rank": "A", "lineno": 51, "col_offset": 4, "endline": 55, "complexity": 2, "classname": "AstraApiClient", "name": "create_collection", "closures": []}, {"type": "method", "rank": "A", "lineno": 57, "col_offset": 4, "endline": 58, "complexity": 1, "classname": "AstraApiClient", "name": "upsert_documents", "closures": []}, {"type": "method", "rank": "A", "lineno": 60, "col_offset": 4, "endline": 77, "complexity": 2, "classname": "AstraApiClient", "name": "count_documents", "closures": []}, {"type": "method", "rank": "A", "lineno": 80, "col_offset": 4, "endline": 87, "complexity": 1, "classname": "AstraApiClient", "name": "create_vector_collection", "closures": []}, {"type": "method", "rank": "B", "lineno": 89, "col_offset": 4, "endline": 149, "complexity": 8, "classname": "AstraApiClient", "name": "vector_search", "closures": []}, {"type": "method", "rank": "A", "lineno": 151, "col_offset": 4, "endline": 186, "complexity": 3, "classname": "AstraApiClient", "name": "batch_fetch_by_ids", "closures": []}]}, {"type": "method", "rank": "A", "lineno": 151, "col_offset": 4, "endline": 186, "complexity": 3, "classname": "AstraApiClient", "name": "batch_fetch_by_ids", "closures": []}, {"type": "method", "rank": "A", "lineno": 30, "col_offset": 4, "endline": 37, "complexity": 2, "classname": "AstraApiClient", "name": "_post", "closures": []}, {"type": "method", "rank": "A", "lineno": 39, "col_offset": 4, "endline": 45, "complexity": 2, "classname": "AstraApiClient", "name": "_get", "closures": []}, {"type": "method", "rank": "A", "lineno": 51, "col_offset": 4, "endline": 55, "complexity": 2, "classname": "AstraApiClient", "name": "create_collection", "closures": []}, {"type": "method", "rank": "A", "lineno": 60, "col_offset": 4, "endline": 77, "complexity": 2, "classname": "AstraApiClient", "name": "count_documents", "closures": []}, {"type": "method", "rank": "A", "lineno": 21, "col_offset": 4, "endline": 24, "complexity": 1, "classname": "AstraApiClient", "name": "_headers", "closures": []}, {"type": "method", "rank": "A", "lineno": 27, "col_offset": 4, "endline": 28, "complexity": 1, "classname": "AstraApiClient", "name": "_url", "closures": []}, {"type": "method", "rank": "A", "lineno": 48, "col_offset": 4, "endline": 49, "complexity": 1, "classname": "AstraApiClient", "name": "list_collections", "closures": []}, {"type": "method", "rank": "A", "lineno": 57, "col_offset": 4, "endline": 58, "complexity": 1, "classname": "AstraApiClient", "name": "upsert_documents", "closures": []}, {"type": "method", "rank": "A", "lineno": 80, "col_offset": 4, "endline": 87, "complexity": 1, "classname": "AstraApiClient", "name": "create_vector_collection", "closures": []}], "services\\graph_index\\embedding.py": [{"type": "method", "rank": "B", "lineno": 19, "col_offset": 4, "endline": 37, "complexity": 7, "classname": "WatsonxEmbeddingClient", "name": "__init__", "closures": []}, {"type": "method", "rank": "B", "lineno": 72, "col_offset": 4, "endline": 94, "complexity": 7, "classname": "WatsonxEmbeddingClient", "name": "_call_watsonx_embeddings", "closures": []}, {"type": "class", "rank": "B", "lineno": 18, "col_offset": 0, "endline": 125, "complexity": 6, "name": "WatsonxEmbeddingClient", "methods": [{"type": "method", "rank": "B", "lineno": 19, "col_offset": 4, "endline": 37, "complexity": 7, "classname": "WatsonxEmbeddingClient", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 39, "col_offset": 4, "endline": 52, "complexity": 4, "classname": "WatsonxEmbeddingClient", "name": "_post", "closures": []}, {"type": "method", "rank": "A", "lineno": 54, "col_offset": 4, "endline": 70, "complexity": 4, "classname": "WatsonxEmbeddingClient", "name": "_get_iam_token", "closures": []}, {"type": "method", "rank": "B", "lineno": 72, "col_offset": 4, "endline": 94, "complexity": 7, "classname": "WatsonxEmbeddingClient", "name": "_call_watsonx_embeddings", "closures": []}, {"type": "method", "rank": "A", "lineno": 96, "col_offset": 4, "endline": 125, "complexity": 4, "classname": "WatsonxEmbeddingClient", "name": "embed_texts", "closures": []}]}, {"type": "method", "rank": "A", "lineno": 39, "col_offset": 4, "endline": 52, "complexity": 4, "classname": "WatsonxEmbeddingClient", "name": "_post", "closures": []}, {"type": "method", "rank": "A", "lineno": 54, "col_offset": 4, "endline": 70, "complexity": 4, "classname": "WatsonxEmbeddingClient", "name": "_get_iam_token", "closures": []}, {"type": "method", "rank": "A", "lineno": 96, "col_offset": 4, "endline": 125, "complexity": 4, "classname": "WatsonxEmbeddingClient", "name": "embed_texts", "closures": []}, {"type": "function", "rank": "A", "lineno": 128, "col_offset": 0, "endline": 129, "complexity": 1, "name": "get_embedding_client", "closures": []}], "services\\graph_index\\generation.py": [{"type": "method", "rank": "B", "lineno": 66, "col_offset": 4, "endline": 91, "complexity": 8, "classname": "WatsonxGenerationClient", "name": "generate", "closures": []}, {"type": "class", "rank": "B", "lineno": 12, "col_offset": 0, "endline": 91, "complexity": 7, "name": "WatsonxGenerationClient", "methods": [{"type": "method", "rank": "B", "lineno": 13, "col_offset": 4, "endline": 31, "complexity": 7, "classname": "WatsonxGenerationClient", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 33, "col_offset": 4, "endline": 46, "complexity": 4, "classname": "WatsonxGenerationClient", "name": "_post", "closures": []}, {"type": "method", "rank": "A", "lineno": 48, "col_offset": 4, "endline": 64, "complexity": 4, "classname": "WatsonxGenerationClient", "name": "_get_token", "closures": []}, {"type": "method", "rank": "B", "lineno": 66, "col_offset": 4, "endline": 91, "complexity": 8, "classname": "WatsonxGenerationClient", "name": "generate", "closures": []}]}, {"type": "method", "rank": "B", "lineno": 13, "col_offset": 4, "endline": 31, "complexity": 7, "classname": "WatsonxGenerationClient", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 33, "col_offset": 4, "endline": 46, "complexity": 4, "classname": "WatsonxGenerationClient", "name": "_post", "closures": []}, {"type": "method", "rank": "A", "lineno": 48, "col_offset": 4, "endline": 64, "complexity": 4, "classname": "WatsonxGenerationClient", "name": "_get_token", "closures": []}, {"type": "function", "rank": "A", "lineno": 94, "col_offset": 0, "endline": 95, "complexity": 1, "name": "get_generation_client", "closures": []}], "services\\graph_index\\graph_traverser.py": [{"type": "method", "rank": "C", "lineno": 44, "col_offset": 4, "endline": 91, "complexity": 15, "classname": "GraphTraverser", "name": "_build_edge_index", "closures": []}, {"type": "method", "rank": "C", "lineno": 206, "col_offset": 4, "endline": 257, "complexity": 12, "classname": "GraphTraverser", "name": "expand_search_results", "closures": []}, {"type": "method", "rank": "B", "lineno": 104, "col_offset": 4, "endline": 139, "complexity": 7, "classname": "GraphTraverser", "name": "get_connected_nodes", "closures": []}, {"type": "method", "rank": "B", "lineno": 259, "col_offset": 4, "endline": 300, "complexity": 6, "classname": "GraphTraverser", "name": "get_relationship_summary", "closures": []}, {"type": "class", "rank": "A", "lineno": 10, "col_offset": 0, "endline": 300, "complexity": 5, "name": "GraphTraverser", "methods": [{"type": "method", "rank": "A", "lineno": 19, "col_offset": 4, "endline": 42, "complexity": 4, "classname": "GraphTraverser", "name": "__init__", "closures": []}, {"type": "method", "rank": "C", "lineno": 44, "col_offset": 4, "endline": 91, "complexity": 15, "classname": "GraphTraverser", "name": "_build_edge_index", "closures": []}, {"type": "method", "rank": "A", "lineno": 93, "col_offset": 4, "endline": 102, "complexity": 1, "classname": "GraphTraverser", "name": "get_node", "closures": []}, {"type": "method", "rank": "B", "lineno": 104, "col_offset": 4, "endline": 139, "complexity": 7, "classname": "GraphTraverser", "name": "get_connected_nodes", "closures": []}, {"type": "method", "rank": "A", "lineno": 141, "col_offset": 4, "endline": 152, "complexity": 1, "classname": "GraphTraverser", "name": "get_curves_for_well", "closures": []}, {"type": "method", "rank": "A", "lineno": 154, "col_offset": 4, "endline": 168, "complexity": 2, "classname": "GraphTraverser", "name": "get_well_for_curve", "closures": []}, {"type": "method", "rank": "A", "lineno": 170, "col_offset": 4, "endline": 181, "complexity": 1, "classname": "GraphTraverser", "name": "get_measurements_for_site", "closures": []}, {"type": "method", "rank": "A", "lineno": 183, "col_offset": 4, "endline": 196, "complexity": 2, "classname": "GraphTraverser", "name": "get_site_for_measurement", "closures": []}, {"type": "method", "rank": "A", "lineno": 199, "col_offset": 4, "endline": 200, "complexity": 1, "classname": "GraphTraverser", "name": "get_mnemonics_for_well", "closures": []}, {"type": "method", "rank": "A", "lineno": 202, "col_offset": 4, "endline": 204, "complexity": 4, "classname": "GraphTraverser", "name": "get_wells_with_mnemonic", "closures": []}, {"type": "method", "rank": "C", "lineno": 206, "col_offset": 4, "endline": 257, "complexity": 12, "classname": "GraphTraverser", "name": "expand_search_results", "closures": []}, {"type": "method", "rank": "B", "lineno": 259, "col_offset": 4, "endline": 300, "complexity": 6, "classname": "GraphTraverser", "name": "get_relationship_summary", "closures": []}]}, {"type": "method", "rank": "A", "lineno": 19, "col_offset": 4, "endline": 42, "complexity": 4, "classname": "GraphTraverser", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 202, "col_offset": 4, "endline": 204, "complexity": 4, "classname": "GraphTraverser", "name": "get_wells_with_mnemonic", "closures": []}, {"type": "function", "rank": "A", "lineno": 303, "col_offset": 0, "endline": 314, "complexity": 2, "name": "get_traverser", "closures": []}, {"type": "method", "rank": "A", "lineno": 154, "col_offset": 4, "endline": 168, "complexity": 2, "classname": "GraphTraverser", "name": "get_well_for_curve", "closures": []}, {"type": "method", "rank": "A", "lineno": 183, "col_offset": 4, "endline": 196, "complexity": 2, "classname": "GraphTraverser", "name": "get_site_for_measurement", "closures": []}, {"type": "method", "rank": "A", "lineno": 93, "col_offset": 4, "endline": 102, "complexity": 1, "classname": "GraphTraverser", "name": "get_node", "closures": []}, {"type": "method", "rank": "A", "lineno": 141, "col_offset": 4, "endline": 152, "complexity": 1, "classname": "GraphTraverser", "name": "get_curves_for_well", "closures": []}, {"type": "method", "rank": "A", "lineno": 170, "col_offset": 4, "endline": 181, "complexity": 1, "classname": "GraphTraverser", "name": "get_measurements_for_site", "closures": []}, {"type": "method", "rank": "A", "lineno": 199, "col_offset": 4, "endline": 200, "complexity": 1, "classname": "GraphTraverser", "name": "get_mnemonics_for_well", "closures": []}], "services\\graph_index\\relationship_detector.py": [{"type": "method", "rank": "C", "lineno": 159, "col_offset": 4, "endline": 244, "complexity": 18, "classname": "RelationshipQueryDetector", "name": "detect", "closures": []}, {"type": "class", "rank": "C", "lineno": 9, "col_offset": 0, "endline": 300, "complexity": 11, "name": "RelationshipQueryDetector", "methods": [{"type": "method", "rank": "B", "lineno": 65, "col_offset": 4, "endline": 104, "complexity": 8, "classname": "RelationshipQueryDetector", "name": "_score_confidence", "closures": []}, {"type": "method", "rank": "B", "lineno": 106, "col_offset": 4, "endline": 157, "complexity": 8, "classname": "RelationshipQueryDetector", "name": "_build_traversal_strategy", "closures": []}, {"type": "method", "rank": "C", "lineno": 159, "col_offset": 4, "endline": 244, "complexity": 18, "classname": "RelationshipQueryDetector", "name": "detect", "closures": []}, {"type": "method", "rank": "B", "lineno": 246, "col_offset": 4, "endline": 300, "complexity": 8, "classname": "RelationshipQueryDetector", "name": "_get_traversal_strategy", "closures": []}]}, {"type": "method", "rank": "B", "lineno": 65, "col_offset": 4, "endline": 104, "complexity": 8, "classname": "RelationshipQueryDetector", "name": "_score_confidence", "closures": []}, {"type": "method", "rank": "B", "lineno": 106, "col_offset": 4, "endline": 157, "complexity": 8, "classname": "RelationshipQueryDetector", "name": "_build_traversal_strategy", "closures": []}, {"type": "method", "rank": "B", "lineno": 246, "col_offset": 4, "endline": 300, "complexity": 8, "classname": "RelationshipQueryDetector", "name": "_get_traversal_strategy", "closures": []}, {"type": "function", "rank": "A", "lineno": 303, "col_offset": 0, "endline": 313, "complexity": 1, "name": "detect_relationship_query", "closures": []}], "services\\graph_index\\utils.py": [{"type": "function", "rank": "B", "lineno": 7, "col_offset": 0, "endline": 20, "complexity": 9, "name": "load_env_file", "closures": []}], "services\\graph_index\\validators.py": [{"type": "function", "rank": "A", "lineno": 35, "col_offset": 0, "endline": 42, "complexity": 4, "name": "validate_eia_csv", "closures": []}, {"type": "function", "rank": "A", "lineno": 45, "col_offset": 0, "endline": 53, "complexity": 4, "name": "validate_usgs_csv", "closures": []}, {"type": "function", "rank": "A", "lineno": 56, "col_offset": 0, "endline": 65, "complexity": 4, "name": "validate_las_metadata", "closures": []}, {"type": "function", "rank": "A", "lineno": 23, "col_offset": 0, "endline": 26, "complexity": 1, "name": "_load_first_row", "closures": []}, {"type": "function", "rank": "A", "lineno": 29, "col_offset": 0, "endline": 32, "complexity": 1, "name": "_load_first_dict", "closures": []}, {"type": "function", "rank": "A", "lineno": 68, "col_offset": 0, "endline": 71, "complexity": 1, "name": "run_all_validations", "closures": []}], "services\\graph_index\\__init__.py": [{"type": "function", "rank": "B", "lineno": 10, "col_offset": 0, "endline": 20, "complexity": 7, "name": "ensure_raw_datasets", "closures": []}], "services\\langgraph\\aggregation.py": [{"type": "function", "rank": "D", "lineno": 163, "col_offset": 0, "endline": 224, "complexity": 26, "name": "extract_field_from_query", "closures": []}, {"type": "function", "rank": "C", "lineno": 340, "col_offset": 0, "endline": 360, "complexity": 17, "name": "detect_aggregation_type", "closures": []}, {"type": "function", "rank": "C", "lineno": 700, "col_offset": 0, "endline": 727, "complexity": 17, "name": "handle_relationship_aware_aggregation", "closures": []}, {"type": "function", "rank": "C", "lineno": 408, "col_offset": 0, "endline": 425, "complexity": 14, "name": "_count_unique_curve_mnemonics", "closures": []}, {"type": "function", "rank": "C", "lineno": 392, "col_offset": 0, "endline": 405, "complexity": 13, "name": "_infer_entity_type", "closures": []}, {"type": "function", "rank": "C", "lineno": 490, "col_offset": 0, "endline": 543, "complexity": 13, "name": "_handle_range", "closures": [{"type": "function", "rank": "A", "lineno": 525, "col_offset": 4, "endline": 526, "complexity": 2, "name": "_format_number", "closures": []}]}, {"type": "function", "rank": "C", "lineno": 92, "col_offset": 0, "endline": 109, "complexity": 12, "name": "_doc_matches_state", "closures": []}, {"type": "function", "rank": "C", "lineno": 254, "col_offset": 0, "endline": 276, "complexity": 12, "name": "max_field", "closures": []}, {"type": "function", "rank": "C", "lineno": 279, "col_offset": 0, "endline": 301, "complexity": 12, "name": "min_field", "closures": []}, {"type": "function", "rank": "C", "lineno": 374, "col_offset": 0, "endline": 385, "complexity": 12, "name": "_is_range_query", "closures": []}, {"type": "function", "rank": "C", "lineno": 614, "col_offset": 0, "endline": 653, "complexity": 12, "name": "handle_aggregation_query", "closures": []}, {"type": "function", "rank": "C", "lineno": 428, "col_offset": 0, "endline": 458, "complexity": 11, "name": "_handle_count", "closures": []}, {"type": "function", "rank": "B", "lineno": 145, "col_offset": 0, "endline": 159, "complexity": 9, "name": "_merge_filter_suffix", "closures": []}, {"type": "function", "rank": "B", "lineno": 730, "col_offset": 0, "endline": 775, "complexity": 9, "name": "format_aggregation_for_llm", "closures": []}, {"type": "function", "rank": "B", "lineno": 363, "col_offset": 0, "endline": 370, "complexity": 7, "name": "_is_comparison_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 546, "col_offset": 0, "endline": 564, "complexity": 6, "name": "_handle_extreme", "closures": []}, {"type": "function", "rank": "B", "lineno": 567, "col_offset": 0, "endline": 576, "complexity": 6, "name": "_infer_comparison_field", "closures": []}, {"type": "function", "rank": "A", "lineno": 8, "col_offset": 0, "endline": 14, "complexity": 5, "name": "_extract_field_value", "closures": []}, {"type": "function", "rank": "A", "lineno": 17, "col_offset": 0, "endline": 28, "complexity": 5, "name": "_coerce_numeric", "closures": []}, {"type": "function", "rank": "A", "lineno": 79, "col_offset": 0, "endline": 90, "complexity": 5, "name": "_detect_state_filters", "closures": []}, {"type": "function", "rank": "A", "lineno": 111, "col_offset": 0, "endline": 119, "complexity": 5, "name": "_apply_query_filters", "closures": []}, {"type": "function", "rank": "A", "lineno": 228, "col_offset": 0, "endline": 236, "complexity": 5, "name": "count_entities", "closures": []}, {"type": "function", "rank": "A", "lineno": 658, "col_offset": 0, "endline": 672, "complexity": 5, "name": "extract_belongs_to_well", "closures": []}, {"type": "function", "rank": "A", "lineno": 121, "col_offset": 0, "endline": 128, "complexity": 4, "name": "_format_state_phrase", "closures": []}, {"type": "function", "rank": "A", "lineno": 135, "col_offset": 0, "endline": 143, "complexity": 4, "name": "_format_count_answer", "closures": []}, {"type": "function", "rank": "A", "lineno": 239, "col_offset": 0, "endline": 251, "complexity": 4, "name": "list_unique_values", "closures": []}, {"type": "function", "rank": "A", "lineno": 304, "col_offset": 0, "endline": 316, "complexity": 4, "name": "sum_field", "closures": []}, {"type": "function", "rank": "A", "lineno": 319, "col_offset": 0, "endline": 331, "complexity": 4, "name": "group_by_field", "closures": []}, {"type": "function", "rank": "A", "lineno": 675, "col_offset": 0, "endline": 684, "complexity": 4, "name": "group_curves_per_well", "closures": []}, {"type": "function", "rank": "A", "lineno": 130, "col_offset": 0, "endline": 133, "complexity": 3, "name": "_pluralize_label", "closures": []}, {"type": "function", "rank": "A", "lineno": 466, "col_offset": 0, "endline": 477, "complexity": 3, "name": "_handle_list_like", "closures": []}, {"type": "function", "rank": "A", "lineno": 579, "col_offset": 0, "endline": 599, "complexity": 3, "name": "_handle_comparison", "closures": []}, {"type": "function", "rank": "A", "lineno": 334, "col_offset": 0, "endline": 337, "complexity": 2, "name": "find_max_group", "closures": []}, {"type": "function", "rank": "A", "lineno": 461, "col_offset": 0, "endline": 463, "complexity": 2, "name": "_resolve_field", "closures": []}, {"type": "function", "rank": "A", "lineno": 479, "col_offset": 0, "endline": 487, "complexity": 2, "name": "_handle_sum", "closures": []}, {"type": "function", "rank": "A", "lineno": 687, "col_offset": 0, "endline": 696, "complexity": 2, "name": "summarize_per_well_counts", "closures": []}], "services\\langgraph\\attribute_extraction.py": [{"type": "function", "rank": "C", "lineno": 163, "col_offset": 0, "endline": 183, "complexity": 14, "name": "extract_city_from_location", "closures": []}, {"type": "function", "rank": "C", "lineno": 195, "col_offset": 0, "endline": 263, "complexity": 12, "name": "structured_extraction_answer", "closures": []}, {"type": "function", "rank": "B", "lineno": 104, "col_offset": 0, "endline": 123, "complexity": 10, "name": "extract_temporal_from_text", "closures": []}, {"type": "function", "rank": "B", "lineno": 44, "col_offset": 0, "endline": 80, "complexity": 8, "name": "detect_attribute_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 83, "col_offset": 0, "endline": 101, "complexity": 6, "name": "extract_from_attributes_section", "closures": []}, {"type": "function", "rank": "B", "lineno": 150, "col_offset": 0, "endline": 160, "complexity": 6, "name": "extract_state_from_location", "closures": []}, {"type": "function", "rank": "A", "lineno": 126, "col_offset": 0, "endline": 143, "complexity": 5, "name": "extract_location_from_text", "closures": []}, {"type": "function", "rank": "A", "lineno": 186, "col_offset": 0, "endline": 192, "complexity": 4, "name": "extract_multiple_values", "closures": []}, {"type": "function", "rank": "A", "lineno": 266, "col_offset": 0, "endline": 275, "complexity": 4, "name": "should_use_structured_extraction", "closures": []}, {"type": "function", "rank": "A", "lineno": 37, "col_offset": 0, "endline": 41, "complexity": 2, "name": "_format_attribute_value", "closures": []}, {"type": "function", "rank": "A", "lineno": 146, "col_offset": 0, "endline": 147, "complexity": 1, "name": "_normalize_state", "closures": []}], "services\\langgraph\\domain_maps.py": [{"type": "function", "rank": "A", "lineno": 24, "col_offset": 0, "endline": 33, "complexity": 4, "name": "is_standard_mnemonic", "closures": []}], "services\\langgraph\\domain_rules.py": [{"type": "function", "rank": "A", "lineno": 63, "col_offset": 0, "endline": 77, "complexity": 3, "name": "apply_domain_rules", "closures": []}, {"type": "function", "rank": "A", "lineno": 14, "col_offset": 0, "endline": 16, "complexity": 2, "name": "_contains_any", "closures": []}, {"type": "function", "rank": "A", "lineno": 19, "col_offset": 0, "endline": 22, "complexity": 2, "name": "rule_nphi_purpose", "closures": []}, {"type": "function", "rank": "A", "lineno": 25, "col_offset": 0, "endline": 28, "complexity": 2, "name": "rule_gr_purpose", "closures": []}, {"type": "function", "rank": "A", "lineno": 31, "col_offset": 0, "endline": 34, "complexity": 2, "name": "rule_rhob_purpose", "closures": []}, {"type": "function", "rank": "A", "lineno": 37, "col_offset": 0, "endline": 43, "complexity": 2, "name": "rule_neutron_density_crossover", "closures": []}, {"type": "function", "rank": "A", "lineno": 46, "col_offset": 0, "endline": 52, "complexity": 2, "name": "rule_gas_bearing_detection", "closures": []}, {"type": "function", "rank": "A", "lineno": 57, "col_offset": 0, "endline": 60, "complexity": 2, "name": "rule_lithology_tools", "closures": []}], "services\\langgraph\\extraction_strategies.py": [{"type": "function", "rank": "C", "lineno": 27, "col_offset": 0, "endline": 81, "complexity": 19, "name": "extract_unit_filtered_mnemonics", "closures": []}, {"type": "function", "rank": "B", "lineno": 104, "col_offset": 0, "endline": 151, "complexity": 10, "name": "extract_state_attribute", "closures": []}, {"type": "function", "rank": "B", "lineno": 154, "col_offset": 0, "endline": 183, "complexity": 8, "name": "extract_location_attribute", "closures": []}, {"type": "function", "rank": "B", "lineno": 204, "col_offset": 0, "endline": 234, "complexity": 7, "name": "extract_mnemonic_with_descriptions", "closures": []}, {"type": "function", "rank": "A", "lineno": 237, "col_offset": 0, "endline": 258, "complexity": 4, "name": "extract_generic_attribute", "closures": []}, {"type": "function", "rank": "A", "lineno": 84, "col_offset": 0, "endline": 101, "complexity": 3, "name": "extract_temporal_attribute", "closures": []}, {"type": "function", "rank": "A", "lineno": 186, "col_offset": 0, "endline": 201, "complexity": 3, "name": "extract_well_attribute", "closures": []}], "services\\langgraph\\query_expansion.py": [{"type": "function", "rank": "B", "lineno": 49, "col_offset": 0, "endline": 99, "complexity": 6, "name": "llm_based_query_expansion", "closures": []}, {"type": "function", "rank": "B", "lineno": 124, "col_offset": 0, "endline": 155, "complexity": 6, "name": "should_expand_query", "closures": []}, {"type": "function", "rank": "A", "lineno": 24, "col_offset": 0, "endline": 46, "complexity": 3, "name": "expand_query_with_synonyms", "closures": []}, {"type": "function", "rank": "A", "lineno": 102, "col_offset": 0, "endline": 121, "complexity": 2, "name": "expand_query_hybrid", "closures": []}], "services\\langgraph\\reranker.py": [{"type": "function", "rank": "A", "lineno": 18, "col_offset": 0, "endline": 61, "complexity": 4, "name": "rerank_results", "closures": []}, {"type": "function", "rank": "A", "lineno": 6, "col_offset": 0, "endline": 15, "complexity": 2, "name": "compute_keyword_score", "closures": []}], "services\\langgraph\\retrieval_helpers.py": [{"type": "function", "rank": "C", "lineno": 201, "col_offset": 0, "endline": 260, "complexity": 12, "name": "fetch_and_enrich_expanded_nodes", "closures": []}, {"type": "function", "rank": "B", "lineno": 66, "col_offset": 0, "endline": 104, "complexity": 9, "name": "apply_keyword_filtering", "closures": []}, {"type": "function", "rank": "B", "lineno": 129, "col_offset": 0, "endline": 168, "complexity": 9, "name": "prepare_seed_nodes_for_traversal", "closures": []}, {"type": "function", "rank": "B", "lineno": 292, "col_offset": 0, "endline": 318, "complexity": 8, "name": "update_state_with_expanded_documents", "closures": []}, {"type": "function", "rank": "B", "lineno": 263, "col_offset": 0, "endline": 288, "complexity": 7, "name": "update_state_with_retrieved_documents", "closures": []}, {"type": "function", "rank": "A", "lineno": 171, "col_offset": 0, "endline": 198, "complexity": 5, "name": "determine_traversal_hops", "closures": []}, {"type": "function", "rank": "A", "lineno": 107, "col_offset": 0, "endline": 126, "complexity": 4, "name": "apply_well_id_filtering", "closures": []}, {"type": "function", "rank": "A", "lineno": 17, "col_offset": 0, "endline": 51, "complexity": 2, "name": "determine_retrieval_parameters", "closures": []}, {"type": "function", "rank": "A", "lineno": 54, "col_offset": 0, "endline": 63, "complexity": 1, "name": "determine_reranking_weights", "closures": []}], "services\\langgraph\\scope_detection.py": [{"type": "function", "rank": "B", "lineno": 41, "col_offset": 0, "endline": 88, "complexity": 9, "name": "is_query_in_scope", "closures": []}, {"type": "function", "rank": "B", "lineno": 92, "col_offset": 0, "endline": 162, "complexity": 7, "name": "llm_scope_detection", "closures": []}, {"type": "function", "rank": "A", "lineno": 196, "col_offset": 0, "endline": 217, "complexity": 4, "name": "generate_defusion_response", "closures": []}, {"type": "function", "rank": "A", "lineno": 166, "col_offset": 0, "endline": 192, "complexity": 3, "name": "check_query_scope", "closures": []}], "services\\langgraph\\state.py": [{"type": "class", "rank": "A", "lineno": 8, "col_offset": 0, "endline": 14, "complexity": 1, "name": "WorkflowState", "methods": []}], "services\\langgraph\\tracing.py": [{"type": "method", "rank": "A", "lineno": 39, "col_offset": 4, "endline": 48, "complexity": 4, "classname": "WorkflowTracer", "name": "_summarize", "closures": []}, {"type": "class", "rank": "A", "lineno": 109, "col_offset": 0, "endline": 147, "complexity": 4, "name": "RetrievalLogger", "methods": [{"type": "method", "rank": "A", "lineno": 112, "col_offset": 4, "endline": 114, "complexity": 2, "classname": "RetrievalLogger", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 116, "col_offset": 4, "endline": 147, "complexity": 3, "classname": "RetrievalLogger", "name": "log_retrieval", "closures": []}]}, {"type": "class", "rank": "A", "lineno": 10, "col_offset": 0, "endline": 76, "complexity": 3, "name": "WorkflowTracer", "methods": [{"type": "method", "rank": "A", "lineno": 13, "col_offset": 4, "endline": 17, "complexity": 2, "classname": "WorkflowTracer", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 19, "col_offset": 4, "endline": 37, "complexity": 2, "classname": "WorkflowTracer", "name": "log_step", "closures": []}, {"type": "method", "rank": "A", "lineno": 39, "col_offset": 4, "endline": 48, "complexity": 4, "classname": "WorkflowTracer", "name": "_summarize", "closures": []}, {"type": "method", "rank": "A", "lineno": 50, "col_offset": 4, "endline": 56, "complexity": 2, "classname": "WorkflowTracer", "name": "_print_trace", "closures": []}, {"type": "method", "rank": "A", "lineno": 58, "col_offset": 4, "endline": 71, "complexity": 3, "classname": "WorkflowTracer", "name": "save", "closures": []}, {"type": "method", "rank": "A", "lineno": 73, "col_offset": 4, "endline": 76, "complexity": 1, "classname": "WorkflowTracer", "name": "clear", "closures": []}]}, {"type": "method", "rank": "A", "lineno": 58, "col_offset": 4, "endline": 71, "complexity": 3, "classname": "WorkflowTracer", "name": "save", "closures": []}, {"type": "method", "rank": "A", "lineno": 116, "col_offset": 4, "endline": 147, "complexity": 3, "classname": "RetrievalLogger", "name": "log_retrieval", "closures": []}, {"type": "class", "rank": "A", "lineno": 150, "col_offset": 0, "endline": 181, "complexity": 3, "name": "GenerationLogger", "methods": [{"type": "method", "rank": "A", "lineno": 153, "col_offset": 4, "endline": 155, "complexity": 2, "classname": "GenerationLogger", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 157, "col_offset": 4, "endline": 181, "complexity": 2, "classname": "GenerationLogger", "name": "log_generation", "closures": []}]}, {"type": "method", "rank": "A", "lineno": 13, "col_offset": 4, "endline": 17, "complexity": 2, "classname": "WorkflowTracer", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 19, "col_offset": 4, "endline": 37, "complexity": 2, "classname": "WorkflowTracer", "name": "log_step", "closures": []}, {"type": "method", "rank": "A", "lineno": 50, "col_offset": 4, "endline": 56, "complexity": 2, "classname": "WorkflowTracer", "name": "_print_trace", "closures": []}, {"type": "method", "rank": "A", "lineno": 112, "col_offset": 4, "endline": 114, "complexity": 2, "classname": "RetrievalLogger", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 153, "col_offset": 4, "endline": 155, "complexity": 2, "classname": "GenerationLogger", "name": "__init__", "closures": []}, {"type": "method", "rank": "A", "lineno": 157, "col_offset": 4, "endline": 181, "complexity": 2, "classname": "GenerationLogger", "name": "log_generation", "closures": []}, {"type": "function", "rank": "A", "lineno": 79, "col_offset": 0, "endline": 106, "complexity": 1, "name": "trace_step", "closures": [{"type": "function", "rank": "A", "lineno": 81, "col_offset": 4, "endline": 105, "complexity": 1, "name": "decorator", "closures": [{"type": "function", "rank": "B", "lineno": 83, "col_offset": 8, "endline": 104, "complexity": 6, "name": "wrapper", "closures": []}]}]}, {"type": "method", "rank": "A", "lineno": 73, "col_offset": 4, "endline": 76, "complexity": 1, "classname": "WorkflowTracer", "name": "clear", "closures": []}], "services\\langgraph\\utils_units.py": [{"type": "function", "rank": "B", "lineno": 7, "col_offset": 0, "endline": 21, "complexity": 6, "name": "normalize_unit", "closures": []}], "services\\langgraph\\well_query_handlers.py": [{"type": "function", "rank": "C", "lineno": 171, "col_offset": 0, "endline": 229, "complexity": 14, "name": "handle_log_suite_classification_query", "closures": []}, {"type": "function", "rank": "C", "lineno": 285, "col_offset": 0, "endline": 339, "complexity": 13, "name": "handle_geological_setting_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 23, "col_offset": 0, "endline": 36, "complexity": 9, "name": "_build_curve_groups", "closures": []}, {"type": "function", "rank": "B", "lineno": 40, "col_offset": 0, "endline": 79, "complexity": 9, "name": "handle_petrophysical_evaluation_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 232, "col_offset": 0, "endline": 282, "complexity": 9, "name": "handle_capability_matrix_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 403, "col_offset": 0, "endline": 434, "complexity": 9, "name": "handle_gamma_ray_neutron_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 507, "col_offset": 0, "endline": 540, "complexity": 9, "name": "handle_curve_grouping_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 130, "col_offset": 0, "endline": 168, "complexity": 8, "name": "handle_unit_filter_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 468, "col_offset": 0, "endline": 504, "complexity": 8, "name": "handle_resistivity_curves_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 569, "col_offset": 0, "endline": 597, "complexity": 8, "name": "handle_triple_combo_exclusion_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 82, "col_offset": 0, "endline": 127, "complexity": 7, "name": "handle_hydrocarbon_identification_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 543, "col_offset": 0, "endline": 566, "complexity": 7, "name": "handle_underscore_count_query", "closures": []}, {"type": "function", "rank": "B", "lineno": 342, "col_offset": 0, "endline": 369, "complexity": 6, "name": "handle_curve_listing_query", "closures": []}, {"type": "function", "rank": "A", "lineno": 372, "col_offset": 0, "endline": 400, "complexity": 5, "name": "handle_depth_curves_query", "closures": []}, {"type": "function", "rank": "A", "lineno": 437, "col_offset": 0, "endline": 465, "complexity": 5, "name": "handle_porosity_curves_query", "closures": []}], "services\\langgraph\\workflow.py": [{"type": "function", "rank": "E", "lineno": 533, "col_offset": 0, "endline": 660, "complexity": 40, "name": "reasoning_step", "closures": []}, {"type": "function", "rank": "D", "lineno": 111, "col_offset": 0, "endline": 281, "complexity": 21, "name": "retrieval_step", "closures": []}, {"type": "function", "rank": "B", "lineno": 89, "col_offset": 0, "endline": 108, "complexity": 10, "name": "_detect_entity_filter", "closures": []}, {"type": "function", "rank": "B", "lineno": 317, "col_offset": 0, "endline": 335, "complexity": 9, "name": "_order_mnemonics", "closures": []}, {"type": "function", "rank": "B", "lineno": 401, "col_offset": 0, "endline": 485, "complexity": 9, "name": "_handle_well_relationship_queries", "closures": []}, {"type": "function", "rank": "B", "lineno": 489, "col_offset": 0, "endline": 508, "complexity": 9, "name": "_handle_curve_lookup", "closures": []}, {"type": "function", "rank": "B", "lineno": 511, "col_offset": 0, "endline": 530, "complexity": 9, "name": "_handle_relationship_queries", "closures": []}, {"type": "function", "rank": "B", "lineno": 351, "col_offset": 0, "endline": 358, "complexity": 8, "name": "_collect_provenance_from_curves", "closures": []}, {"type": "function", "rank": "B", "lineno": 389, "col_offset": 0, "endline": 398, "complexity": 8, "name": "_find_curve_node_id_by_mnemonic", "closures": []}, {"type": "function", "rank": "B", "lineno": 75, "col_offset": 0, "endline": 86, "complexity": 6, "name": "_normalize_unit2", "closures": []}, {"type": "function", "rank": "B", "lineno": 361, "col_offset": 0, "endline": 373, "complexity": 6, "name": "_infer_basin_from_well_metadata", "closures": []}, {"type": "function", "rank": "A", "lineno": 344, "col_offset": 0, "endline": 348, "complexity": 5, "name": "_merge_provenance", "closures": []}, {"type": "function", "rank": "A", "lineno": 377, "col_offset": 0, "endline": 386, "complexity": 4, "name": "_normalize_well_node_id", "closures": []}, {"type": "function", "rank": "A", "lineno": 664, "col_offset": 0, "endline": 679, "complexity": 3, "name": "embedding_step", "closures": []}, {"type": "function", "rank": "A", "lineno": 52, "col_offset": 0, "endline": 64, "complexity": 2, "name": "_extract_critical_keywords", "closures": []}, {"type": "function", "rank": "A", "lineno": 67, "col_offset": 0, "endline": 72, "complexity": 2, "name": "_detect_well_id_filter", "closures": []}, {"type": "function", "rank": "A", "lineno": 284, "col_offset": 0, "endline": 289, "complexity": 2, "name": "_format_prompt", "closures": []}, {"type": "function", "rank": "A", "lineno": 682, "col_offset": 0, "endline": 713, "complexity": 2, "name": "build_workflow", "closures": [{"type": "function", "rank": "A", "lineno": 689, "col_offset": 8, "endline": 694, "complexity": 2, "name": "_runner", "closures": []}, {"type": "function", "rank": "A", "lineno": 708, "col_offset": 4, "endline": 711, "complexity": 2, "name": "_runner", "closures": []}]}, {"type": "function", "rank": "A", "lineno": 338, "col_offset": 0, "endline": 341, "complexity": 1, "name": "_record_workflow_error", "closures": []}]}
