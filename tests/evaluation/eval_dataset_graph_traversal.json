{
  "description": "Graph traversal validation with verifiable ground truth from actual graph structure",
  "version": "1.0_graph_traversal",
  "total_queries": 15,
  "purpose": "Validate that the system correctly retrieves and synthesizes information across graph relationships (well→curve edges)",
  "notes": [
    "All ground truth extracted from data/processed/graph/combined_graph.json",
    "Tests require traversing well→curve relationships",
    "Validates answer truthfulness against actual graph data"
  ],
  "ground_truth_source": {
    "file": "data/processed/graph/combined_graph.json",
    "extraction_date": "2025-10-09",
    "verification_method": "Direct graph inspection",
    "sample_well": "force2020-well-15_9-13 (Sleipner East Appr)",
    "curves_per_well": 21,
    "total_relationships": 2421
  },
  "categories": {
    "relationship_traversal": "Queries requiring well→curve edge traversal",
    "multi_hop": "Queries requiring multiple relationship hops",
    "relationship_count": "Counting relationships",
    "attribute_synthesis": "Synthesizing data across related nodes",
    "truthfulness": "Exact factual verification against ground truth"
  },
  "queries": [
    {
      "id": "traversal_01",
      "category": "relationship_traversal",
      "complexity": "medium",
      "query": "What curves are available for well 15_9-13?",
      "expected_answer_contains": ["DEPT", "CALI", "ROP"],
      "expected_entity_type": "las_curve",
      "ground_truth": "21 curves including DEPT, FORCE_2020_LITHOFACIES_CONFIDENCE, FORCE_2020_LITHOFACIES_LITHOLOGY, CALI, MUDWEIGHT, ROP, RDEP, RSHA, RMED, RXO, GR, NPHI, RHOB, DTC, DTS, DRHO, PEF, DCAL, BS, SGR, RMIC",
      "ground_truth_source": "Graph edges from force2020-well-15_9-13",
      "verifiable": true,
      "verification_query": "Count edges where target='force2020-well-15_9-13'",
      "expected_count": 21
    },
    {
      "id": "traversal_02",
      "category": "relationship_traversal",
      "complexity": "high",
      "query": "Which well does the FORCE_2020_LITHOFACIES_LITHOLOGY curve belong to?",
      "expected_answer_contains": ["15_9-13", "Sleipner"],
      "expected_entity_type": "las_document",
      "ground_truth": "Well 15_9-13 (Sleipner East Appr) in Norwegian Sea",
      "ground_truth_source": "Edge relationship: force2020-curve-1 -> force2020-well-15_9-13",
      "verifiable": true
    },
    {
      "id": "traversal_03",
      "category": "relationship_count",
      "complexity": "medium",
      "query": "How many curves does each Norwegian well have on average?",
      "expected_answer_type": "calculation",
      "ground_truth": "Approximately 21 curves per well (2,393 curves / 118 wells)",
      "ground_truth_source": "FORCE 2020 metadata: 118 wells, 2,393 curves total",
      "verifiable": true,
      "calculation": "2393 / 118 ≈ 20.3",
      "acceptable_range": [19, 22]
    },
    {
      "id": "traversal_04",
      "category": "attribute_synthesis",
      "complexity": "high",
      "query": "What is the company name for well 15_9-13?",
      "expected_answer_contains": ["Statoil", "unknown", "not specified"],
      "ground_truth": "Company field is empty in well metadata (common in FORCE 2020 anonymized dataset)",
      "ground_truth_source": "force2020-well-15_9-13 attributes.COMP = ''",
      "verifiable": true,
      "note": "Tests whether system correctly reports missing data vs hallucinating"
    },
    {
      "id": "traversal_05",
      "category": "relationship_traversal",
      "complexity": "very_high",
      "query": "List all curve types available in Norwegian wells",
      "expected_answer_contains": ["DEPT", "GR", "RHOB", "NPHI", "DTC", "FORCE_2020_LITHOFACIES"],
      "expected_entity_type": "las_curve",
      "ground_truth": "Standard curves: DEPT, GR, NPHI, RHOB, DTC, DTS, DRHO, PEF, DCAL, BS, SGR, RMIC, CALI, MUDWEIGHT, ROP, RDEP, RSHA, RMED, RXO, plus FORCE_2020_LITHOFACIES_* curves",
      "ground_truth_source": "Aggregation of all curve mnemonics from FORCE 2020 wells",
      "verifiable": true
    },
    {
      "id": "truthfulness_01",
      "category": "truthfulness",
      "complexity": "high",
      "query": "What is the well name for well 15_9-13?",
      "expected_answer_contains": "Sleipner East Appr",
      "exact_answer": "Sleipner East Appr",
      "ground_truth": "Sleipner East Appr (exact match required)",
      "ground_truth_source": "force2020-well-15_9-13 attributes.WELL",
      "verifiable": true,
      "strict_validation": true
    },
    {
      "id": "truthfulness_02",
      "category": "truthfulness",
      "complexity": "medium",
      "query": "How many curves describe each well in the FORCE 2020 dataset?",
      "expected_answer_type": "count",
      "acceptable_values": [20, 21, 22],
      "ground_truth": "Each FORCE 2020 well has exactly 21 curves",
      "ground_truth_source": "force2020_las_metadata.json: consistent 21 curves per well",
      "verifiable": true,
      "strict_validation": true
    },
    {
      "id": "multi_hop_01",
      "category": "multi_hop",
      "complexity": "very_high",
      "query": "Find wells with FORCE_2020_LITHOFACIES_LITHOLOGY curves and list their locations",
      "expected_answer_contains": ["Norwegian Sea", "118 wells"],
      "ground_truth": "All 118 FORCE 2020 wells in Norwegian Sea have FORCE_2020_LITHOFACIES_LITHOLOGY curves",
      "ground_truth_source": "force2020_las_metadata.json: all wells have lithofacies curves + well metadata region='Norwegian Sea'",
      "verifiable": true,
      "requires_hops": 2,
      "traversal_path": "curve → well → location"
    },
    {
      "id": "multi_hop_02",
      "category": "multi_hop",
      "complexity": "very_high",
      "query": "Which wells have both gamma ray (GR) and neutron porosity (NPHI) measurements?",
      "expected_answer_contains": ["Norwegian", "118", "FORCE"],
      "ground_truth": "All 118 FORCE 2020 wells have both GR and NPHI curves",
      "ground_truth_source": "All FORCE 2020 wells contain standard petrophysical suite including GR and NPHI",
      "verifiable": true,
      "requires_hops": 2,
      "traversal_path": "GR curve → well ← NPHI curve"
    },
    {
      "id": "relationship_count_01",
      "category": "relationship_count",
      "complexity": "medium",
      "query": "How many curve-to-well relationships exist in the graph?",
      "expected_answer_type": "count",
      "expected_count": 1000,
      "ground_truth": "2,421 curve→well edges total (2,393 FORCE + 27 KGS + 1 measurement edge)",
      "ground_truth_source": "combined_graph.json: total edges = 2,421",
      "verifiable": true,
      "note": "Will hit 1000 AstraDB limit - acceptable"
    },
    {
      "id": "hallucination_check_01",
      "category": "truthfulness",
      "complexity": "high",
      "query": "What is the operator company for well 15_9-13?",
      "expected_answer_contains": ["not available", "not specified", "unknown", "empty"],
      "forbidden_answers": ["Statoil", "Equinor", "Shell", "BP"],
      "ground_truth": "COMP field is empty - system should NOT hallucinate a company name",
      "ground_truth_source": "force2020-well-15_9-13 attributes.COMP = ''",
      "verifiable": true,
      "strict_validation": true,
      "anti_hallucination_test": true
    },
    {
      "id": "hallucination_check_02",
      "category": "truthfulness",
      "complexity": "high",
      "query": "What is the API number for Norwegian well 15_9-13?",
      "expected_answer_contains": ["not available", "not applicable", "Norwegian wells don't use API"],
      "forbidden_answers": ["API", "12-345", "digits"],
      "ground_truth": "Norwegian wells don't have API numbers (US-specific identifier)",
      "ground_truth_source": "FORCE 2020 wells use different naming convention (block-field format)",
      "verifiable": true,
      "anti_hallucination_test": true
    },
    {
      "id": "attribute_accuracy_01",
      "category": "truthfulness",
      "complexity": "medium",
      "query": "What curves measure lithofacies in the FORCE 2020 dataset?",
      "expected_answer_contains": ["FORCE_2020_LITHOFACIES_LITHOLOGY", "FORCE_2020_LITHOFACIES_CONFIDENCE"],
      "exact_mnemonics": ["FORCE_2020_LITHOFACIES_LITHOLOGY", "FORCE_2020_LITHOFACIES_CONFIDENCE"],
      "ground_truth": "Two lithofacies curves: FORCE_2020_LITHOFACIES_LITHOLOGY and FORCE_2020_LITHOFACIES_CONFIDENCE",
      "ground_truth_source": "force2020_las_metadata.json: consistent curve names across all wells",
      "verifiable": true,
      "strict_validation": true
    },
    {
      "id": "integration_verification_01",
      "category": "truthfulness",
      "complexity": "very_high",
      "query": "Compare the number of curves in Norwegian wells versus the Kansas well",
      "expected_answer_contains": ["21", "27", "Norwegian: 21", "Kansas: 27"],
      "ground_truth": "Norwegian wells: 21 curves each, Kansas well (1001178549.las): 27 curves",
      "ground_truth_source": "force2020_las_metadata.json (21 curves) vs kgs_las_metadata.json (27 curves)",
      "verifiable": true,
      "strict_validation": true
    },
    {
      "id": "provenance_verification_01",
      "category": "truthfulness",
      "complexity": "medium",
      "query": "What is the source dataset for well 15_9-13?",
      "expected_answer_contains": ["FORCE 2020", "force2020", "Norwegian"],
      "ground_truth": "FORCE 2020 Machine Learning lithology competition",
      "ground_truth_source": "force2020-well-15_9-13 source='force2020'",
      "verifiable": true
    }
  ]
}
