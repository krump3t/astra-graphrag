{
  "timestamp": "2025-10-13T18:44:57.959417",
  "summary": {
    "total_tests": 25,
    "successful": 19,
    "failed": 6,
    "success_rate": 0.76,
    "average_metrics": {
      "faithfulness": 0.631,
      "answer_relevance": 0.216,
      "context_precision": 1.0,
      "context_recall": 0.093,
      "ground_truth_overlap": 0.229,
      "keyword_score": 0.789,
      "aggregate_score": 0.612
    },
    "category_performance": {
      "simple_factual": 0.599,
      "aggregation_count": 0.85,
      "aggregation_list": 0.852,
      "entity_specific": 0.447,
      "semantic_domain": 0.569,
      "temporal": 0.5,
      "spatial": 0.727,
      "multi_constraint": 0.423,
      "complex_analytical": 0.55,
      "edge_cases": 0.734
    }
  },
  "gating": {
    "passed": false,
    "failures": [
      "faithfulness 0.631 < required 0.7",
      "success_rate 0.76 < required 1.0"
    ]
  },
  "results": [
    {
      "test_id": "simple_01",
      "category": "simple_factual",
      "query": "What is the USGS site code?",
      "status": "success",
      "answer": "USGS site code: 03339000",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.25,
          "answer_relevance": 0.5,
          "context_precision": 1.0,
          "context_recall": 0.071,
          "ground_truth_overlap": 0.667,
          "keyword_score": 1.0,
          "aggregate_score": 0.625
        },
        "diagnostics": {
          "num_contexts": 1,
          "answer_length": 4,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 1,
          "initial_results": 1,
          "reranked": true
        }
      }
    },
    {
      "test_id": "simple_02",
      "category": "simple_factual",
      "query": "What is the name of the USGS monitoring site?",
      "status": "success",
      "answer": "The final answer is: VERMILION RIVER NEAR DANVILLE, IL",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.556,
          "answer_relevance": 0.222,
          "context_precision": 1.0,
          "context_recall": 0.357,
          "ground_truth_overlap": 0.556,
          "keyword_score": 1.0,
          "aggregate_score": 0.633
        },
        "diagnostics": {
          "num_contexts": 1,
          "answer_length": 9,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 1,
          "initial_results": 1,
          "reranked": true
        }
      }
    },
    {
      "test_id": "simple_03",
      "category": "simple_factual",
      "query": "What state is the USGS site located in?",
      "status": "success",
      "answer": "State: IL (Illinois)",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.333,
          "answer_relevance": 0.125,
          "context_precision": 1.0,
          "context_recall": 0.0,
          "ground_truth_overlap": 0.333,
          "keyword_score": 1.0,
          "aggregate_score": 0.538
        },
        "diagnostics": {
          "num_contexts": 1,
          "answer_length": 3,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 1,
          "initial_results": 1,
          "reranked": true
        }
      }
    },
    {
      "test_id": "agg_count_01",
      "category": "aggregation_count",
      "query": "How many EIA energy records are in the dataset?",
      "status": "failed",
      "error": "name 'GLOBAL_ENTITY_COUNTS' is not defined"
    },
    {
      "test_id": "agg_count_02",
      "category": "aggregation_count",
      "query": "How many LAS curves are available?",
      "status": "success",
      "answer": "There are 53 LAS curves.",
      "evaluation": {
        "metrics": {
          "faithfulness": 1.0,
          "answer_relevance": 0.5,
          "context_precision": 1.0,
          "context_recall": 0.037,
          "ground_truth_overlap": 0.4,
          "keyword_score": 1.0,
          "aggregate_score": 0.85
        },
        "diagnostics": {
          "num_contexts": 101,
          "answer_length": 5,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 100,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "agg_count_03",
      "category": "aggregation_count",
      "query": "What is the total number of data records across all sources?",
      "status": "failed",
      "error": "name 'GLOBAL_ENTITY_COUNTS' is not defined"
    },
    {
      "test_id": "agg_count_04",
      "category": "aggregation_count",
      "query": "How many USGS monitoring sites are in the database?",
      "status": "failed",
      "error": "name 'GLOBAL_ENTITY_COUNTS' is not defined"
    },
    {
      "test_id": "agg_list_01",
      "category": "aggregation_list",
      "query": "What are all the different data sources in the system?",
      "status": "success",
      "answer": "There is only 1 unique entity_type value: las_curve. \n\nAnswer: The data source in the system is las_curve.",
      "evaluation": {
        "metrics": {
          "faithfulness": 1.0,
          "answer_relevance": 0.286,
          "context_precision": 1.0,
          "context_recall": 0.011,
          "ground_truth_overlap": 0.143,
          "keyword_score": 1.0,
          "aggregate_score": 0.786
        },
        "diagnostics": {
          "num_contexts": 1001,
          "answer_length": 17,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 1000,
          "initial_results": 1000,
          "reranked": true
        }
      }
    },
    {
      "test_id": "agg_list_02",
      "category": "aggregation_list",
      "query": "What different domains are represented in the data?",
      "status": "success",
      "answer": "The Question: What different domains are represented in the data?\n\nAnswer: las_curve.",
      "evaluation": {
        "metrics": {
          "faithfulness": 1.0,
          "answer_relevance": 0.727,
          "context_precision": 1.0,
          "context_recall": 0.011,
          "ground_truth_overlap": 0.091,
          "keyword_score": 1.0,
          "aggregate_score": 0.918
        },
        "diagnostics": {
          "num_contexts": 1001,
          "answer_length": 12,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 1000,
          "initial_results": 1000,
          "reranked": true
        }
      }
    },
    {
      "test_id": "entity_01",
      "category": "entity_specific",
      "query": "What LAS curves measure gamma ray radiation?",
      "status": "success",
      "answer": "15 curves found: ROP (ROP), RSHA (RSHA), BS (BS), ROP (ROP), ROP (ROP)...",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.5,
          "answer_relevance": 0.143,
          "context_precision": 1.0,
          "context_recall": 0.02,
          "ground_truth_overlap": 0.0,
          "keyword_score": 0.0,
          "aggregate_score": 0.393
        },
        "diagnostics": {
          "num_contexts": 15,
          "answer_length": 13,
          "missing_keywords": [
            "GSGR"
          ],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "entity_02",
      "category": "entity_specific",
      "query": "Which curve represents bulk density?",
      "status": "success",
      "answer": "15 curves found: MUDWEIGHT (MUDWEIGHT), MUDWEIGHT (MUDWEIGHT), MUDWEIGHT (MUDWEIGHT), BS (BS), MUDWEIGHT (MUDWEIGHT)...",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.6,
          "answer_relevance": 0.0,
          "context_precision": 1.0,
          "context_recall": 0.022,
          "ground_truth_overlap": 0.0,
          "keyword_score": 0.0,
          "aggregate_score": 0.38
        },
        "diagnostics": {
          "num_contexts": 15,
          "answer_length": 13,
          "missing_keywords": [
            "RHOB"
          ],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "entity_03",
      "category": "entity_specific",
      "query": "What does the DEPT curve measure?",
      "status": "success",
      "answer": "9 different values found: DEPTH, RDEP, DEPTH_MD, ROP, DRHO...",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.556,
          "answer_relevance": 0.0,
          "context_precision": 1.0,
          "context_recall": 0.128,
          "ground_truth_overlap": 0.111,
          "keyword_score": 1.0,
          "aggregate_score": 0.567
        },
        "diagnostics": {
          "num_contexts": 15,
          "answer_length": 9,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "semantic_01",
      "category": "semantic_domain",
      "query": "What subsurface formation data is available?",
      "status": "success",
      "answer": "The subsurface formation data available includes the following curves: DEPTH_MD, z_loc, y_loc, FORCE_2020_LITHOFACIES_LITHOLOGY, and NPHI. These curves belong to wells 26/4-1, 15/9-17, 35/11-13, 33/9-17, and T4. The NPHI curve measures neutron porosity in units of m3/m3. The FORCE_2020_LITHOFACIES_LITHOLOGY curve measures lithofacies lithology. The DEPTH_MD and z_loc curves measure depth. The y_loc curve measures y location. The wells have the following IDs: force2020-well-26_4-1, force2020-well-15_9-17, force2020-well-35_11-13, force2020-well-33_9-17, and force2020-well-25_2-13 T4.",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.538,
          "answer_relevance": 0.077,
          "context_precision": 1.0,
          "context_recall": 0.083,
          "ground_truth_overlap": 0.096,
          "keyword_score": 1.0,
          "aggregate_score": 0.585
        },
        "diagnostics": {
          "num_contexts": 15,
          "answer_length": 68,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "semantic_02",
      "category": "semantic_domain",
      "query": "What energy production information is in the database?",
      "status": "success",
      "answer": "The database contains information on the following energy production metrics: \nOIL_PRODUCTION_PER_RIG, \nOIL_LEGACY_PRODUCTION_CHANGE, \nOIL_TOTAL_PRODUCTION, \nGAS_PRODUCTION_PER_RIG, \nGAS_LEGACY_PRODUCTION_CHANGE, \nGAS_TOTAL_PRODUCTION. \n\nThese metrics are related to the [DOMAIN] energy production petroleum oil gas drilling productivity. \n\nAdditionally, the database includes information on the number of rigs (RIG_COUNT) in the Anadarko Region for different months. \n\nThe database also contains information on the [REGION] Anadarko Region and the [MONTH] of the data. \n\nTherefore, the energy production information in the database includes oil and gas production per rig, total production, legacy production changes, and rig counts for the Anadarko Region. \n\nThe database has 13 entries for different months. \n\nThe energy production metrics are: \n1. OIL_PRODUCTION_PER_RIG \n2. OIL_LEGACY_PRODUCTION_CHANGE \n3. OIL_TOTAL_PRODUCTION \n4. GAS_PRODUCTION_PER_RIG \n5. GAS_LEGACY_PRODUCTION_CHANGE \n6. GAS_TOTAL_PRODUCTION \n\nThese metrics are related to the [DOMAIN] energy production petroleum oil gas drilling productivity. \n\nThe database contains information on the number of rigs (RIG_COUNT) in the Anadarko Region for different months. \n\nThe database also contains information on the [REGION] Anadarko Region and the [MONTH] of the data. \n\nTherefore, the energy production information in the database includes oil and gas production per rig, total production, legacy production changes, and rig counts for the Anadarko Region. \n\nThe database has 13 entries for different months. \n\nThe energy production metrics are: \n1. OIL_PRODUCTION_PER_RIG \n2. OIL_LEGACY_PRODUCTION_CHANGE \n3. OIL_TOTAL_PRODUCTION \n4. GAS_PRODUCTION_PER_RIG \n5. GAS_LEGACY_PRODUCTION_CHANGE \n6. GAS_TOTAL_PRODUCTION \n\nThese metrics are related to the [DOMAIN] energy production petroleum oil gas drilling productivity. \n\nThe database contains information on the number of rigs (RIG_COUNT) in the Anadarko Region for different months. \n\nThe database also contains information on the [REGION] Anadarko Region and the [MONTH] of the data. \n\nTherefore, the energy production information in the database includes oil and gas production per rig, total production, legacy production changes, and rig counts",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.421,
          "answer_relevance": 0.105,
          "context_precision": 1.0,
          "context_recall": 0.027,
          "ground_truth_overlap": 0.105,
          "keyword_score": 1.0,
          "aggregate_score": 0.558
        },
        "diagnostics": {
          "num_contexts": 15,
          "answer_length": 285,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "semantic_03",
      "category": "semantic_domain",
      "query": "What surface water monitoring data exists?",
      "status": "success",
      "answer": "The final answer is: \nSurface water measurement exists for the USGS site \"VERMILION RIVER NEAR DANVILLE, IL\" with site code \"03339000\" in the domain of surface water hydrology streamflow.",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.583,
          "answer_relevance": 0.125,
          "context_precision": 1.0,
          "context_recall": 0.263,
          "ground_truth_overlap": 0.25,
          "keyword_score": 1.0,
          "aggregate_score": 0.613
        },
        "diagnostics": {
          "num_contexts": 2,
          "answer_length": 29,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 2,
          "initial_results": 2,
          "reranked": true
        }
      }
    },
    {
      "test_id": "semantic_04",
      "category": "semantic_domain",
      "query": "What lithology identification tools are available in the well logs?",
      "status": "success",
      "answer": "PEF (Photoelectric factor) is the standard tool for lithology identification.",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.1,
          "answer_relevance": 0.3,
          "context_precision": 1.0,
          "context_recall": 0.022,
          "ground_truth_overlap": 0.6,
          "keyword_score": 1.0,
          "aggregate_score": 0.52
        },
        "diagnostics": {
          "num_contexts": 15,
          "answer_length": 10,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "temporal_01",
      "category": "temporal",
      "query": "What is the most recent year represented in the EIA data?",
      "status": "success",
      "answer": "2016",
      "evaluation": {
        "metrics": {
          "faithfulness": 1.0,
          "answer_relevance": 0.0,
          "context_precision": 1.0,
          "context_recall": 0.001,
          "ground_truth_overlap": 0.0,
          "keyword_score": 0.0,
          "aggregate_score": 0.5
        },
        "diagnostics": {
          "num_contexts": 210,
          "answer_length": 1,
          "missing_keywords": [
            "2023"
          ],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 210,
          "initial_results": 210,
          "reranked": true
        }
      }
    },
    {
      "test_id": "spatial_01",
      "category": "spatial",
      "query": "What data is available from Indiana?",
      "status": "failed",
      "error": "name 'GLOBAL_ENTITY_COUNTS' is not defined"
    },
    {
      "test_id": "spatial_02",
      "category": "spatial",
      "query": "Where is the Vermilion River monitoring site located?",
      "status": "success",
      "answer": "Answer: The Vermilion River monitoring site is located near Danville, IL.",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.455,
          "answer_relevance": 0.636,
          "context_precision": 1.0,
          "context_recall": 0.143,
          "ground_truth_overlap": 0.182,
          "keyword_score": 1.0,
          "aggregate_score": 0.727
        },
        "diagnostics": {
          "num_contexts": 1,
          "answer_length": 11,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 1,
          "initial_results": 1,
          "reranked": true
        }
      }
    },
    {
      "test_id": "multi_01",
      "category": "multi_constraint",
      "query": "How many subsurface data records are there?",
      "status": "failed",
      "error": "name 'GLOBAL_ENTITY_COUNTS' is not defined"
    },
    {
      "test_id": "multi_02",
      "category": "multi_constraint",
      "query": "What spectral gamma ray curves are available?",
      "status": "success",
      "answer": "15 curves found: GR (GR), SGR (SGR), SGR (SGR), SGR (SGR), GR (GR)...",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.6,
          "answer_relevance": 0.143,
          "context_precision": 1.0,
          "context_recall": 0.0,
          "ground_truth_overlap": 0.1,
          "keyword_score": 0.0,
          "aggregate_score": 0.423
        },
        "diagnostics": {
          "num_contexts": 15,
          "answer_length": 13,
          "missing_keywords": [
            "GSTK",
            "GST",
            "GSK"
          ],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "comparison_01",
      "category": "comparison",
      "query": "Which domain has the most data records?",
      "status": "failed",
      "error": "name 'DOMAIN_RECORD_COUNTS' is not defined"
    },
    {
      "test_id": "complex_01",
      "category": "complex_analytical",
      "query": "What types of porosity measurements are available in the well logs?",
      "status": "success",
      "answer": "15 curves found: NPHI (NPHI), NPHI (NPHI), NPHI (NPHI), NPHI (NPHI), NPHI (NPHI)...",
      "evaluation": {
        "metrics": {
          "faithfulness": 0.5,
          "answer_relevance": 0.0,
          "context_precision": 1.0,
          "context_recall": 0.023,
          "ground_truth_overlap": 0.167,
          "keyword_score": 1.0,
          "aggregate_score": 0.55
        },
        "diagnostics": {
          "num_contexts": 15,
          "answer_length": 13,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "edge_01",
      "category": "edge_cases",
      "query": "What is the weather forecast for tomorrow?",
      "status": "success",
      "answer": "This question appears to be about weather, which is outside the scope of this geological and energy data system.",
      "evaluation": {
        "metrics": {
          "faithfulness": 1.0,
          "answer_relevance": 0.167,
          "context_precision": 1.0,
          "context_recall": 0.444,
          "ground_truth_overlap": 0.444,
          "keyword_score": 1.0,
          "aggregate_score": 0.75
        },
        "diagnostics": {
          "num_contexts": 1,
          "answer_length": 19,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 15,
          "initial_results": 100,
          "reranked": true
        }
      }
    },
    {
      "test_id": "edge_02",
      "category": "edge_cases",
      "query": "How many Bitcoin records are in the database?",
      "status": "success",
      "answer": "This question appears to be about finance, which is outside the scope of this geological and energy data system.",
      "evaluation": {
        "metrics": {
          "faithfulness": 1.0,
          "answer_relevance": 0.056,
          "context_precision": 1.0,
          "context_recall": 0.111,
          "ground_truth_overlap": 0.111,
          "keyword_score": 1.0,
          "aggregate_score": 0.717
        },
        "diagnostics": {
          "num_contexts": 1,
          "answer_length": 19,
          "missing_keywords": [],
          "expected_entities_found": "N/A"
        },
        "workflow_metadata": {
          "retrieval_source": "astra",
          "num_results": 100,
          "initial_results": 100,
          "reranked": true
        }
      }
    }
  ]
}